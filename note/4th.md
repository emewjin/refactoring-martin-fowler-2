# 4주차

## 11강

### 11.3 플래그 인수 제거하기

- 공통 로직 있는 경우 플래그로 분기하지 말고 추출하는 것이 유리. 추출할 때는 무조건 private로 추출, 외부 공개 인터페이스는 분리

### 11.4 강결합 조심하기

### 11.5 질의함수 분리

- 매개변수는 피할수록 좋다. 피할 수 있으면 피하기. 질의함수로 빼내면 피할 수 있다.
  - 매개변수가 많다는 것은 함수가 많은 일을 하고 있을 확률이 높다는 것
  - named space를 지원하지 않는 자바스크립트 특성상 이 매개변수가 무엇인지 알기 힘듦(roro패턴 안 쓴 경우)
  - 불필요하게 외부에 공개되는 api
  - 외부에 의해 내부 로직이 영향받을 위험
- class에 get이 있어서 그런지 질의함수라는 개념을 명시적으로 나타내기에 더 유리한듯..? 더 잘 어울리는 것처럼 보임.

### 11.6

- 외부 모듈 사용시, 외부 모듈을 매개변수로 전달받기!
  - 그래야 순수함수로 만들 수 있다
  - 의존성? DI?
  - 어떤 일이 있을까?
    - dayjs라는 라이브러리를 사용해서 date 관련 비즈니스 로직을 작성할 때, 인터페이스에서 dayjs를 매개변수로 주입받아서 사용하기
    - 라이브러리를 한 번 랩핑해서 사용할 때, 인터페이스화 할 때 주로 사용하는 개념일까?

### 11.8 팩토리 메서드

- 팩토리 메서드가 뭘까?
  - 객체를 반환하는 함수
  - constructor 대신 static 메서드로 인스턴스 생성
  - 객체를 생성하기 위한 도메인 지식을 모아놓은 함수 (DDD)
    - 예제에서는 employee를 생성하기 위한 도메인 로직이 typeCode인 것

## 12강

도메인 메서드

- 도메인 메서드만을 통해서 setter로 바꿀 수 있는 부분들을 관리하는 것이 좋다. setter를 최소화.
  - 왜 최소화 해야 하는가?
    - 추적하기 편하려고.
    - 리액트 앱 디버깅할 때 왜 렌더링이 트리거되는지 알 수 없을 때 힘들었던 경험을 떠올려보자.

### 12.7 서브클래스

[코드1-서브클래스 만들기](../ch12/12-6.js)  
[코드2-서브클래스 제거하기](../ch12/12-7.js)

- 서브클래스
  - 상속받은 클래스. 확장된 클래스. 자식 클래스.

### 12.10 위임(composition)

또는 합성

[코드1-위임 예시](../ch12/12-10-composition.js)  
[코드2-ts버전](../ch12/12-10-ts.ts)

- 서브클래스/상속(extend) vs 위임(composition)
  - 상속은 다중상속이 불가능, 수정과 확장이 어려움
  - overriding을 하려면 부모 클래스의 내부 로직을 알아야 하는데 그것 자체가 캡슐화 위반이다.
  - 위임은 외부로부터 주입받기 위해 사용한다. 책처럼 내부에 두지 않기.
  - 나한테 필요없는 것까지 다 상속받기보다 위임을 통해 필요한 api만 외부로 노출하기. [12-11-1](../ch12/12-11-1.js)
  - 여러 개를 복사할 때는 상속보다 위임이 더 유리함. 매번 값을 넘겨주지 않아도 되므로. [12-11-2](../ch12/12-11-2.js)
